<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: "ï„¥"; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: "ï„£"; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: "ï„£"; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "âˆ’"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 1920px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



</style><title>å°é¡¹ç›® - æŠ€æœ¯å¼€å‘æ–‡æ¡£</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='æŠ€æœ¯å¼€å‘æ–‡æ¡£'><span>æŠ€æœ¯å¼€å‘æ–‡æ¡£</span></h1><p><img src="http://8.138.214.176:5174/é¡¹ç›®å›¾åºŠ/æ˜Ÿå¼€ç¥ˆçµç™¾å®ç®±%20é¡¹ç›®æ–‡æ¡£-1.png?v=1" referrerpolicy="no-referrer" alt="æ˜Ÿå¼€ç¥ˆçµç™¾å®ç®± é¡¹ç›®æ–‡æ¡£-1.png"></p><p>&nbsp;</p><h2 id='ğŸš€-å¿«é€Ÿå¼€å§‹'><span>ğŸš€ å¿«é€Ÿå¼€å§‹</span></h2><h3 id='âš™ï¸-ç¯å¢ƒè¦æ±‚'><span>âš™ï¸ ç¯å¢ƒè¦æ±‚</span></h3><figure><table><thead><tr><th style='text-align:center;' ><span>ç¯å¢ƒ</span></th><th style='text-align:center;' ><span>ç‰ˆæœ¬</span></th><th style='text-align:center;' ><span>å¤‡æ³¨</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><span>JDK</span></td><td style='text-align:center;' ><span>17</span></td><td style='text-align:center;' ><span>ä¸¥æ ¼åŒ¹é…</span></td></tr><tr><td style='text-align:center;' ><span>Node.js</span></td><td style='text-align:center;' ><span>20.16.0</span></td><td style='text-align:center;' ><span>LTSç‰ˆæœ¬</span></td></tr><tr><td style='text-align:center;' ><span>MySQL</span></td><td style='text-align:center;' ><span>5.7</span></td><td style='text-align:center;' ><span>æœ€ä½è¦æ±‚</span></td></tr><tr><td style='text-align:center;' ><span>Redis</span></td><td style='text-align:center;' ><span>5.0+</span></td><td style='text-align:center;' ><span>å…¼å®¹ç‰ˆæœ¬</span></td></tr></tbody></table></figure><p><span>â— ç‰ˆæœ¬è­¦å‘Šï¼š</span></p><p><span>   æœ¬é¡¹ç›®ä½¿ç”¨ </span><strong><span>ç²¾ç¡®ç‰ˆæœ¬é”å®š</span></strong><span> ç­–ç•¥ï¼Œè‹¥ä½¿ç”¨æ›´é«˜ç‰ˆæœ¬ç»„ä»¶å¯èƒ½å¯¼è‡´å…¼å®¹æ€§é—®é¢˜ </span></p><p><span>   ï¼ˆæµ‹è¯•é€šè¿‡ç‰ˆæœ¬è§ä¸Šæ–‡ï¼Œå»ºè®®ä½¿ç”¨ç›¸åŒç‰ˆæœ¬é¿å…ç¯å¢ƒé—®é¢˜ï¼‰</span></p><h3 id='ğŸ”§-å¯åŠ¨æ­¥éª¤'><span>ğŸ”§ å¯åŠ¨æ­¥éª¤</span></h3><ol start='' ><li><p><strong><span>å…‹éš†é¡¹ç›®</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">git</span> clone https://github.com/KokoaChino/xkql.git</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre></li><li><p><strong><span>æ•°æ®åº“åˆå§‹åŒ–</span></strong></p><p><span>æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ä½äº </span><code>/sql/xkql.sql</code></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>â€‹</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ•°æ®åº“</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mysql <span class="cm-attribute">-u</span> root <span class="cm-attribute">-p</span> <span class="cm-attribute">-e</span> <span class="cm-string">"CREATE DATABASE xkql CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># ç¬¬äºŒæ­¥ï¼šå¯¼å…¥è¡¨ç»“æ„åŠæ•°æ®ï¼ˆæ³¨æ„æ–‡ä»¶è·¯å¾„ï¼‰</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mysql <span class="cm-attribute">-u</span> root <span class="cm-attribute">-p</span> xkql &lt; ./sql/xkql.sql</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><span>æˆ–é€šè¿‡Navicatå¯è§†åŒ–æ“ä½œï¼š</span></p><ol start='' ><li><p><span>æ–°å»ºè¿æ¥ -&gt; è¾“å…¥root/123456</span></p></li><li><p><span>å³é”®è¿æ¥ -&gt; åˆ›å»ºæ•°æ®åº“ï¼š</span></p><ul><li><span>æ•°æ®åº“åï¼š</span><code>xkql</code></li><li><span>å­—ç¬¦é›†ï¼š</span><code>utf8mb4</code></li><li><span>æ’åºè§„åˆ™ï¼š</span><code>utf8mb4_general_ci</code></li></ul></li><li><p><span>åŒå‡»æ‰“å¼€æ–°æ•°æ®åº“ -&gt; å³é”®æ•°æ®åº“ -&gt; è¿è¡ŒSQLæ–‡ä»¶ï¼š</span></p><ul><li><span>æ–‡ä»¶é€‰æ‹©é¡¹ç›®ä¸­çš„ </span><code>/sql/xkql.sql</code></li><li><span>ç¼–ç é€‰æ‹© </span><code>UTF-8</code></li></ul></li></ol></li><li><p><strong><span>å¯åŠ¨ Redis æœåŠ¡</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">redis-server <span class="cm-comment"># ç¡®ä¿ Redis å·²å®‰è£…ï¼Œå¹¶è¿è¡Œåœ¨é»˜è®¤ç«¯å£ 6379</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre></li><li><p><strong><span>åç«¯å¯åŠ¨</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cd</span> backend</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mvn spring-boot:run <span class="cm-comment"># ç¡®ä¿å·²é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆapplication.ymlï¼‰</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre></li><li><p><strong><span>å‰ç«¯å¯åŠ¨</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">cd</span> frontend</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">npm</span> install</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">npm</span> run dev</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p><span>è®¿é—® </span><code>http://localhost:5174</code><span> å³å¯</span></p></li></ol><p>&nbsp;</p><h2 id='ğŸ› ï¸-æŠ€æœ¯æ ˆ'><span>ğŸ› ï¸ æŠ€æœ¯æ ˆ</span></h2><h3 id='åç«¯-1'><span>åç«¯</span></h3><ul><li><strong><span>æ¡†æ¶</span></strong><span> ï¼šSpring Bootã€Spring MVCã€Spring Securityã€MyBatis</span></li><li><strong><span>æ•°æ®åº“</span></strong><span> ï¼šMySQLã€Redis</span></li><li><strong><span>ç¬¬ä¸‰æ–¹åº“</span></strong><span> ï¼šLombokã€Java Mail Senderã€Fastjsonã€Apache Commons Compressã€Apache POI</span></li><li><strong><span>å®‰å…¨</span></strong><span> ï¼šBCryptPasswordEncoderã€Remember-Me</span></li><li><strong><span>å·¥å…·ä¸åŠŸèƒ½</span></strong><span> ï¼šçº¿ç¨‹ç®¡ç†ã€å›¾åƒå¤„ç†ã€æ–‡ä»¶ä¸Šä¼ ã€å…¨å±€å¼‚å¸¸å¤„ç†</span></li></ul><h3 id='å‰ç«¯-1'><span>å‰ç«¯</span></h3><ul><li><p><strong><span>æ¡†æ¶</span></strong><span> ï¼šVue 3</span></p></li><li><p><strong><span>çŠ¶æ€ç®¡ç†</span></strong><span> ï¼šPinia</span></p></li><li><p><strong><span>UI ç»„ä»¶åº“</span></strong><span> ï¼šElement Plusã€Element Plus Icons</span></p></li><li><p><strong><span>è·¯ç”±</span></strong><span> ï¼šVue Router</span></p></li><li><p><strong><span>HTTP è¯·æ±‚åº“</span></strong><span> ï¼šAxios</span></p></li><li><p><strong><span>æ„å»ºå·¥å…·</span></strong><span> ï¼šVite</span></p></li><li><p><strong><span>åŠŸèƒ½ä¸å·¥å…·</span></strong><span>ï¼š</span></p><ul><li><strong><span>å›¾ç‰‡æ‡’åŠ è½½</span></strong><span> ï¼šIntersection Observer APIï¼ˆè‡ªå®šä¹‰æŒ‡ä»¤ </span><code>v-lazy</code><span>ï¼‰</span></li><li><strong><span>åŠ¨ç”»</span></strong><span> ï¼šElement Plus è¿‡æ¸¡åŠ¨ç”»ï¼ˆå¦‚ </span><code>&lt;transition&gt;</code><span> ç»„ä»¶ï¼‰</span></li><li><strong><span>ä¾èµ–æ³¨å…¥</span></strong><span> ï¼šVue </span><code>inject</code><span>/</span><code>provide</code><span>ï¼ˆåŠ¨æ€æ ‡é¢˜ä¼ é€’ï¼‰</span></li><li><strong><span>å¤æ‚è¡¨å•éªŒè¯</span></strong><span> ï¼šElement Plus è¡¨å•è§„åˆ™ä¸è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘</span></li></ul></li></ul><p>&nbsp;</p><h2 id='âœ¨æŠ€æœ¯æ ˆäº®ç‚¹'><span>âœ¨æŠ€æœ¯æ ˆäº®ç‚¹</span></h2><h3 id='åç«¯-2'><span>åç«¯</span></h3><h4 id='1-å®‰å…¨æ¶æ„è®¾è®¡spring-security--è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼‰'><span>1. å®‰å…¨æ¶æ„è®¾è®¡ï¼ˆSpring Security + è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼‰</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>ç»†ç²’åº¦æƒé™æ§åˆ¶</span></strong><span>ï¼šé€šè¿‡ </span><code>SecurityConfiguration</code><span> é…ç½® Spring Securityï¼Œå®ç° </span><code>/api/auth/**</code><span> å…è®¤è¯ã€å…¶ä»–æ¥å£éœ€è®¤è¯è®¿é—®ï¼Œç»“åˆ </span><code>@EnableWebSecurity</code><span> å®ç°å®‰å…¨è¿‡æ»¤é“¾</span></li><li><strong><span>å¤šæ€ç™»å½•ä¸é€€å‡º</span></strong><span>ï¼šè‡ªå®šä¹‰ç™»å½•æ¥å£ </span><code>/api/auth/login</code><span> å’Œé€€å‡ºæ¥å£ </span><code>/api/auth/logout</code><span>ï¼Œé€šè¿‡ </span><code>successHandler</code><span> å’Œ </span><code>failureHandler</code><span> è¿”å›å‹å¥½ JSON å“åº”ï¼ˆå¦‚ </span><code>RestBean.success(&quot;ç™»å½•æˆåŠŸ&quot;)</code><span>ï¼‰</span></li><li><strong><span>è®°ä½æˆ‘åŠŸèƒ½</span></strong><span>ï¼šä½¿ç”¨ </span><code>JdbcTokenRepositoryImpl</code><span> æŒä¹…åŒ– Remember-Me ä»¤ç‰Œï¼Œæ”¯æŒ 15 å¤©æœ‰æ•ˆæœŸ</span></li><li><strong><span>CORS è·¨åŸŸä¼˜åŒ–</span></strong><span>ï¼šé€šè¿‡ </span><code>CorsConfigurationSource</code><span> å…è®¸æ‰€æœ‰æ¥æºè¯·æ±‚ï¼Œæ”¯æŒå‡­è¯ä¼ é€’ï¼ˆ</span><code>allowCredentials: true</code><span>ï¼‰ï¼Œé¿å…å‰åç«¯è”è°ƒé—®é¢˜</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Configuration</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@EnableWebSecurity</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">SecurityConfiguration</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">SecurityFilterChain</span> <span class="cm-variable">filterChain</span>(<span class="cm-variable">HttpSecurity</span> <span class="cm-variable">http</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">Exception</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">http</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">authorizeHttpRequests</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span> <span class="cm-comment">// å…è®¤è¯è·¯å¾„ä¸æƒé™æ§åˆ¶</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">requestMatchers</span>(<span class="cm-string">"/api/auth/**"</span>).<span class="cm-variable">permitAll</span>() <span class="cm-comment">// ç™»å½•/æ³¨å†Œæ¥å£å…è®¤è¯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">anyRequest</span>().<span class="cm-variable">authenticated</span>() <span class="cm-comment">// å…¶ä»–æ¥å£éœ€è®¤è¯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">formLogin</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span> <span class="cm-comment">// è‡ªå®šä¹‰ç™»å½•é€€å‡ºé€»è¾‘</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">loginProcessingUrl</span>(<span class="cm-string">"/api/auth/login"</span>) <span class="cm-comment">// è‡ªå®šä¹‰ç™»å½•URL</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">successHandler</span>(<span class="cm-keyword">this</span>::<span class="cm-variable">onAuthenticationSuccess</span>) <span class="cm-comment">// JSONæ ¼å¼å“åº”</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">failureHandler</span>(<span class="cm-keyword">this</span>::<span class="cm-variable">onAuthenticationFailure</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">logout</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">logoutUrl</span>(<span class="cm-string">"/api/auth/logout"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">logoutSuccessHandler</span>(<span class="cm-keyword">this</span>::<span class="cm-variable">onAuthenticationSuccess</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">rememberMe</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span> <span class="cm-comment">// è®°ä½æˆ‘åŠŸèƒ½ï¼ˆ15å¤©æœ‰æ•ˆæœŸï¼‰</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">tokenValiditySeconds</span>(<span class="cm-number">3600</span> <span class="cm-operator">*</span> <span class="cm-number">24</span> <span class="cm-operator">*</span> <span class="cm-number">15</span>) <span class="cm-comment">// ä»¤ç‰Œæœ‰æ•ˆæœŸ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">tokenRepository</span>(<span class="cm-variable">tokenRepository</span>()) <span class="cm-comment">// ä½¿ç”¨JDBCæŒä¹…åŒ–ä»¤ç‰Œ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">cors</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span>.<span class="cm-variable">configurationSource</span>(<span class="cm-variable">corsConfigurationSource</span>())) <span class="cm-comment">// CORSå…¨å±€é…ç½®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">exceptionHandling</span>(<span class="cm-variable">e</span> <span class="cm-operator">-&gt;</span> <span class="cm-variable">e</span>.<span class="cm-variable">authenticationEntryPoint</span>(<span class="cm-keyword">this</span>::<span class="cm-variable">onAuthenticationFailure</span>)) <span class="cm-comment">// ç»Ÿä¸€å¼‚å¸¸å¤„ç†</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 668px;"></div><div class="CodeMirror-gutters" style="display: none; height: 668px;"></div></div></div></pre><h4 id='2-å¤æ‚ä¸šåŠ¡åœºæ™¯çš„å¼‚æ­¥å¤„ç†å¤šçº¿ç¨‹--ä»»åŠ¡ç›‘æ§ï¼‰'><span>2. å¤æ‚ä¸šåŠ¡åœºæ™¯çš„å¼‚æ­¥å¤„ç†ï¼ˆå¤šçº¿ç¨‹ + ä»»åŠ¡ç›‘æ§ï¼‰</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>çº¿ç¨‹æ± æ›¿ä»£åŸç”Ÿçº¿ç¨‹</span></strong><span>ï¼šåœ¨ </span><code>BatchImageWatermarkerServiceImpl</code><span> ä¸­ä½¿ç”¨ </span><code>ThreadPoolExecutor</code><span> ç®¡ç†ä»»åŠ¡çº¿ç¨‹ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´çº¿ç¨‹æ•°ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•° 2ï¼Œæœ€å¤§ 6ï¼‰å’Œä»»åŠ¡é˜Ÿåˆ—ï¼ˆå®¹é‡ 10ï¼‰ï¼Œé¿å…èµ„æºè€—å°½é£é™©</span></li><li><strong><span>ä»»åŠ¡è¿›åº¦ä¸ç»“æœç®¡ç†</span></strong><span>ï¼šé€šè¿‡ </span><code>ConcurrentHashMap</code><span> ç¼“å­˜ä»»åŠ¡è¿›åº¦ï¼ˆ</span><code>P</code><span>ï¼‰ã€ç”Ÿæˆæ–‡ä»¶ï¼ˆ</span><code>ZIP</code><span>ï¼‰å’Œé™„åŠ ä¿¡æ¯ï¼ˆ</span><code>INFO</code><span>ï¼‰ï¼Œæä¾› </span><code>/get-progress</code><span> å’Œ </span><code>/get-zip-file</code><span> æ¥å£å®æ—¶æŸ¥è¯¢</span></li><li><strong><span>Future å®ç°ä»»åŠ¡å¯æ§æ€§</span></strong><span>ï¼šé€šè¿‡ </span><code>Future&lt;?&gt;</code><span> å¯¹è±¡å’Œ </span><code>ConcurrentHashMap</code><span> ç¼“å­˜ä»»åŠ¡çŠ¶æ€ï¼Œ</span><code>stopTask</code><span> æ–¹æ³•è°ƒç”¨ </span><code>future.cancel(true)</code><span> å®ç°æ›´ç²¾å‡†çš„ä»»åŠ¡ç»ˆæ­¢ï¼Œä¸”é€šè¿‡ç»Ÿä¸€çš„ </span><code>cleanupResources</code><span> æ¸…ç†èµ„æºï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</span></li><li><strong><span>ä¸´æ—¶æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></strong><span>ï¼šæ–°å¢ </span><code>cleanupTempFiles</code><span> å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å°æ—¶æ‰§è¡Œï¼‰ï¼Œè‡ªåŠ¨æ¸…ç†è¶…è¿‡ 1 å°æ—¶çš„ä¸´æ—¶ ZIP æ–‡ä»¶ï¼Œé¿å…ç£ç›˜ç©ºé—´æµªè´¹</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Slf4j</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Service</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">BatchImageWatermarkerServiceImpl</span> <span class="cm-keyword">implements</span> <span class="cm-variable">BatchImageWatermarkerService</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Future</span><span class="cm-operator">&lt;?&gt;&gt;</span> <span class="cm-variable">T</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ConcurrentHashMap</span><span class="cm-operator">&lt;&gt;</span>(); <span class="cm-comment">// çº¿ç¨‹ç¼“å­˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable-3">Integer</span><span class="cm-operator">&gt;</span> <span class="cm-variable">P</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ConcurrentHashMap</span><span class="cm-operator">&lt;&gt;</span>(); <span class="cm-comment">// è¿›åº¦ç¼“å­˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">File</span><span class="cm-operator">&gt;</span> <span class="cm-variable">ZIP</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ConcurrentHashMap</span><span class="cm-operator">&lt;&gt;</span>(); <span class="cm-comment">// æ–‡ä»¶ç¼“å­˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-variable">INFO</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ConcurrentHashMap</span><span class="cm-operator">&lt;&gt;</span>(); <span class="cm-comment">// ä¿¡æ¯ç¼“å­˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">ExecutorService</span> <span class="cm-variable">executor</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ThreadPoolExecutor</span>( <span class="cm-comment">// çº¿ç¨‹æ± </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">6</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">30</span>, <span class="cm-variable">TimeUnit</span>.<span class="cm-variable">SECONDS</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">new</span> <span class="cm-variable">ArrayBlockingQueue</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-number">10</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">new</span> <span class="cm-variable">ThreadPoolExecutor</span>.<span class="cm-variable">CallerRunsPolicy</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">startTask</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>, <span class="cm-variable">InputStream</span> <span class="cm-variable">fileStream</span>, <span class="cm-variable">WatermarkParams</span> <span class="cm-variable">params</span>, <span class="cm-variable">Image</span> <span class="cm-variable">backgroundImage</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cleanupResources</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Future</span><span class="cm-operator">&lt;?&gt;</span> <span class="cm-variable">future</span> <span class="cm-operator">=</span> <span class="cm-variable">executor</span>.<span class="cm-variable">submit</span>(() <span class="cm-operator">-&gt;</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">handleFileUpload</span>(<span class="cm-variable">username</span>, <span class="cm-variable">fileStream</span>, <span class="cm-variable">params</span>, <span class="cm-variable">backgroundImage</span>); <span class="cm-comment">// å¤„ç†å›¾ç‰‡å¹¶ç”Ÿæˆæ°´å°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cleanupResources</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">log</span>.<span class="cm-variable">error</span>(<span class="cm-string">"è¿›ç¨‹å´©æºƒï¼š{}"</span>, <span class="cm-variable">e</span>.<span class="cm-variable">getMessage</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">T</span>.<span class="cm-variable">put</span>(<span class="cm-variable">username</span>, <span class="cm-variable">future</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable-3">void</span> <span class="cm-variable">cleanupResources</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>) { <span class="cm-comment">// æ¸…ç†ä»»åŠ¡èµ„æº</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">P</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">T</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">INFO</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ZIP</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">getProgress</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>) { <span class="cm-comment">// è·å–è¿›åº¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">P</span>.<span class="cm-variable">getOrDefault</span>(<span class="cm-variable">username</span>, <span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">ResponseEntity</span><span class="cm-operator">&lt;</span><span class="cm-variable">InputStreamResource</span><span class="cm-operator">&gt;</span> <span class="cm-variable">getZipFile</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>) { <span class="cm-comment">// è·å–æ–‡ä»¶ç»“æœ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">File</span> <span class="cm-variable">file</span> <span class="cm-operator">=</span> <span class="cm-variable">ZIP</span>.<span class="cm-variable">getOrDefault</span>(<span class="cm-variable">username</span>, <span class="cm-atom">null</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ResponseEntity</span>.<span class="cm-variable">ok</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">header</span>(<span class="cm-variable">HttpHeaders</span>.<span class="cm-variable">CONTENT_DISPOSITION</span>, <span class="cm-string">"attachment; filename=modified.zip"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">contentType</span>(<span class="cm-variable">MediaType</span>.<span class="cm-variable">APPLICATION_OCTET_STREAM</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">body</span>(<span class="cm-keyword">new</span> <span class="cm-variable">InputStreamResource</span>(<span class="cm-keyword">new</span> <span class="cm-variable">FileInputStream</span>(<span class="cm-variable">file</span>)));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ResponseEntity</span>.<span class="cm-variable">internalServerError</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">body</span>(<span class="cm-keyword">new</span> <span class="cm-variable">InputStreamResource</span>(<span class="cm-keyword">new</span> <span class="cm-variable">ByteArrayInputStream</span>(<span class="cm-string">"{\"message\":\"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯\"}"</span>.<span class="cm-variable">getBytes</span>())));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">getAdditionalData</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>) { <span class="cm-comment">// è·å–é™„åŠ ä¿¡æ¯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">INFO</span>.<span class="cm-variable">getOrDefault</span>(<span class="cm-variable">username</span>, <span class="cm-atom">null</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">stopTask</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>) { <span class="cm-comment">// ç»ˆæ­¢ä»»åŠ¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Future</span><span class="cm-operator">&lt;?&gt;</span> <span class="cm-variable">future</span> <span class="cm-operator">=</span> <span class="cm-variable">T</span>.<span class="cm-variable">get</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">future</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) <span class="cm-variable">future</span>.<span class="cm-variable">cancel</span>(<span class="cm-atom">true</span>); <span class="cm-comment">// å®‰å…¨ç»ˆæ­¢çº¿ç¨‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cleanupResources</span>(<span class="cm-variable">username</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Scheduled</span>(<span class="cm-variable">fixedRate</span> <span class="cm-operator">=</span> <span class="cm-number">3600</span> <span class="cm-operator">*</span> <span class="cm-number">1000</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">cleanupTempFiles</span>() { <span class="cm-comment">// å®šæ—¶æ¸…ç†è¿‡æœŸä¸´æ—¶æ–‡ä»¶</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">tmpDirPath</span> <span class="cm-operator">=</span> <span class="cm-variable">System</span>.<span class="cm-variable">getProperty</span>(<span class="cm-string">"java.io.tmpdir"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">File</span> <span class="cm-variable">tempDir</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">File</span>(<span class="cm-variable">tmpDirPath</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">File</span>[] <span class="cm-variable">files</span> <span class="cm-operator">=</span> <span class="cm-variable">tempDir</span>.<span class="cm-variable">listFiles</span>((<span class="cm-variable">dir</span>, <span class="cm-variable">name</span>) <span class="cm-operator">-&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">name</span>.<span class="cm-variable">toLowerCase</span>().<span class="cm-variable">startsWith</span>(<span class="cm-string">"output"</span>) <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">name</span>.<span class="cm-variable">toLowerCase</span>().<span class="cm-variable">endsWith</span>(<span class="cm-string">".zip"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">files</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">long</span> <span class="cm-variable">now</span> <span class="cm-operator">=</span> <span class="cm-variable">System</span>.<span class="cm-variable">currentTimeMillis</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable">File</span> <span class="cm-variable">file</span> : <span class="cm-variable">files</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">now</span> <span class="cm-operator">-</span> <span class="cm-variable">file</span>.<span class="cm-variable">lastModified</span>() <span class="cm-operator">&gt;</span> <span class="cm-number">3600</span> <span class="cm-operator">*</span> <span class="cm-number">1000</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">boolean</span> <span class="cm-variable">deleted</span> <span class="cm-operator">=</span> <span class="cm-variable">file</span>.<span class="cm-variable">delete</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">deleted</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">log</span>.<span class="cm-variable">info</span>(<span class="cm-string">"å·²æ¸…ç†è¿‡æœŸä¸´æ—¶æ–‡ä»¶: {}"</span>, <span class="cm-variable">file</span>.<span class="cm-variable">getAbsolutePath</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">log</span>.<span class="cm-variable">error</span>(<span class="cm-string">"æ–‡ä»¶æ¸…ç†å¤±è´¥: {}"</span>, <span class="cm-variable">file</span>.<span class="cm-variable">getAbsolutePath</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">SecurityException</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">log</span>.<span class="cm-variable">error</span>(<span class="cm-string">"æƒé™ä¸è¶³ï¼Œæ— æ³•åˆ é™¤æ–‡ä»¶: {}"</span>, <span class="cm-variable">file</span>.<span class="cm-variable">getAbsolutePath</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2257px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2257px;"></div></div></div></pre><h4 id='3-æ•°æ®å±‚çš„é«˜æ•ˆè®¾è®¡mybatis--åˆ†å±‚æ˜ å°„ï¼‰'><span>3. æ•°æ®å±‚çš„é«˜æ•ˆè®¾è®¡ï¼ˆMyBatis + åˆ†å±‚æ˜ å°„ï¼‰</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>MyBatis ä¸ Spring Boot çš„æ— ç¼é›†æˆ</span></strong><span>ï¼šé€šè¿‡ </span><code>@Mapper</code><span> æ³¨è§£å®ç°ç®€æ´çš„æ•°æ®åº“æ“ä½œï¼ˆå¦‚ </span><code>UserMapper</code><span> çš„ </span><code>createAccount</code><span> æ–¹æ³•ï¼‰</span></li><li><strong><span>DTO-Entity è½¬æ¢</span></strong><span>ï¼šåœ¨ </span><code>WatermarkParamsConvert</code><span> ä¸­å®šä¹‰ </span><code>toDTO</code><span> å’Œ </span><code>toEntity</code><span> æ–¹æ³•ï¼Œè§£è€¦ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰ä¸å®ä½“ï¼ˆEntityï¼‰ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§</span></li><li><strong><span>å¤æ‚ä¸šåŠ¡å‚æ•°çš„åºåˆ—åŒ–</span></strong><span>ï¼šå°† </span><code>WatermarkParams</code><span> å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­˜å‚¨ï¼ˆå¦‚ </span><code>WatermarkData</code><span> çš„ </span><code>json</code><span> å­—æ®µï¼‰ï¼Œç®€åŒ–æ•°æ®åº“è®¾è®¡</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Mapper</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">UserMapper</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Insert</span>(<span class="cm-string">"insert into account (email, username, password) values (#{email}, #{username}, #{password})"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">createAccount</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">password</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">email</span>); <span class="cm-comment">// åˆ›å»ºç”¨æˆ·</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">WatermarkParamsConvert</span> { <span class="cm-comment">// å®ç°ä¼ è¾“å¯¹è±¡ä¸å®ä½“çš„ç›¸äº’è½¬æ¢</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">WatermarkDataDTO</span> <span class="cm-variable">toDTO</span>(<span class="cm-variable">WatermarkData</span> <span class="cm-variable">w</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span class="cm-variable">WatermarkDataDTO</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">w</span>.<span class="cm-variable">getId</span>(), <span class="cm-variable">w</span>.<span class="cm-variable">getUsername</span>(), <span class="cm-variable">toBase64</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getBackgroundImage</span>()), <span class="cm-variable">toBase64</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getPreviewImage</span>()),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">JSON</span>.<span class="cm-variable">parseObject</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getJson</span>(), <span class="cm-keyword">new</span> <span class="cm-variable">TypeReference</span><span class="cm-operator">&lt;</span><span class="cm-variable">WatermarkParamsDTO</span><span class="cm-operator">&gt;</span>() {})</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">WatermarkData</span> <span class="cm-variable">toEntity</span>(<span class="cm-variable">WatermarkDataDTO</span> <span class="cm-variable">w</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span class="cm-variable">WatermarkData</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">w</span>.<span class="cm-variable">getId</span>(), <span class="cm-variable">w</span>.<span class="cm-variable">getUsername</span>(), <span class="cm-variable">toBytes</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getBackgroundImage</span>()), <span class="cm-variable">toBytes</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getPreviewImage</span>()),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">JSON</span>.<span class="cm-variable">toJSONString</span>(<span class="cm-variable">w</span>.<span class="cm-variable">getParams</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 369px;"></div><div class="CodeMirror-gutters" style="display: none; height: 369px;"></div></div></div></pre><h4 id='4-å¼‚å¸¸å¤„ç†ä¸å®¹é”™æœºåˆ¶'><span>4. å¼‚å¸¸å¤„ç†ä¸å®¹é”™æœºåˆ¶</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>å…¨å±€å¼‚å¸¸æ•è·</span></strong><span>ï¼šé€šè¿‡ </span><code>@ControllerAdvice</code><span> ç»Ÿä¸€å¤„ç† </span><code>IllegalArgumentException</code><span> å’Œè‡ªå®šä¹‰å¼‚å¸¸ï¼ˆå¦‚ </span><code>FontNotFoundException</code><span>ï¼‰ï¼Œè¿”å›ç»“æ„åŒ–é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ </span><code>{&quot;type&quot;: &quot;FontNotFoundException&quot;, &quot;message&quot;: &quot;å­—ä½“æœªå®‰è£…&quot;}</code><span>ï¼‰</span></li><li><strong><span>å‚æ•°æ ¡éªŒ</span></strong><span>ï¼šåœ¨ </span><code>AuthorizeController</code><span> ä¸­ä½¿ç”¨ </span><code>@Pattern</code><span>ã€</span><code>@Length</code><span> ç­‰æ³¨è§£è¿›è¡Œå‚æ•°æ ¡éªŒï¼Œç»“åˆ </span><code>@Validated</code><span> å®ç°è¾“å…¥åˆæ³•æ€§æ£€æŸ¥</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@ControllerAdvice</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">GlobalExceptionHandler</span> { <span class="cm-comment">// å…¨å±€å¼‚å¸¸å¤„ç†å™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@ExceptionHandler</span>(<span class="cm-variable">IllegalArgumentException</span>.<span class="cm-keyword">class</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">ResponseEntity</span><span class="cm-operator">&lt;</span><span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable-3">Object</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">handleRuntimeException</span>(<span class="cm-variable">IllegalArgumentException</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable-3">Object</span><span class="cm-operator">&gt;</span> <span class="cm-variable">errorResponse</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashMap</span><span class="cm-operator">&lt;&gt;</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">errorResponse</span>.<span class="cm-variable">put</span>(<span class="cm-string">"type"</span>, <span class="cm-string">"IllegalArgumentException"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">errorResponse</span>.<span class="cm-variable">put</span>(<span class="cm-string">"message"</span>, <span class="cm-variable">e</span>.<span class="cm-variable">getMessage</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">errorResponse</span>.<span class="cm-variable">put</span>(<span class="cm-string">"status"</span>, <span class="cm-variable">HttpStatus</span>.<span class="cm-variable">INTERNAL_SERVER_ERROR</span>.<span class="cm-variable">value</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ResponseEntity</span>.<span class="cm-variable">status</span>(<span class="cm-variable">HttpStatus</span>.<span class="cm-variable">INTERNAL_SERVER_ERROR</span>).<span class="cm-variable">body</span>(<span class="cm-variable">errorResponse</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 276px;"></div><div class="CodeMirror-gutters" style="display: none; height: 276px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Validated</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@RestController</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@RequestMapping</span>(<span class="cm-string">"/api/auth"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">AuthorizeController</span> { <span class="cm-comment">// ç”¨æˆ·è®¤è¯æ§åˆ¶å™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">EMAIL_REGEX</span> <span class="cm-operator">=</span> <span class="cm-string">"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">USERNAME_REGEX</span> <span class="cm-operator">=</span> <span class="cm-string">"^[a-zA-Z0-9\\u4e00-\\u9fa5]+$"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@PostMapping</span>(<span class="cm-string">"/register"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">RestBean</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">registerUser</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Pattern</span>(<span class="cm-variable">regexp</span> <span class="cm-operator">=</span> <span class="cm-variable">USERNAME_REGEX</span>) <span class="cm-meta">@Length</span>(<span class="cm-variable">min</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>, <span class="cm-variable">max</span> <span class="cm-operator">=</span> <span class="cm-number">8</span>) <span class="cm-meta">@RequestParam</span>(<span class="cm-string">"username"</span>) <span class="cm-variable-3">String</span> <span class="cm-variable">username</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Length</span>(<span class="cm-variable">min</span> <span class="cm-operator">=</span> <span class="cm-number">6</span>, <span class="cm-variable">max</span> <span class="cm-operator">=</span> <span class="cm-number">16</span>) <span class="cm-meta">@RequestParam</span>(<span class="cm-string">"password"</span>) <span class="cm-variable-3">String</span> <span class="cm-variable">password</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Pattern</span>(<span class="cm-variable">regexp</span> <span class="cm-operator">=</span> <span class="cm-variable">EMAIL_REGEX</span>) <span class="cm-meta">@RequestParam</span>(<span class="cm-string">"email"</span>) <span class="cm-variable-3">String</span> <span class="cm-variable">email</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Length</span>(<span class="cm-variable">min</span> <span class="cm-operator">=</span> <span class="cm-number">6</span>, <span class="cm-variable">max</span> <span class="cm-operator">=</span> <span class="cm-number">6</span>) <span class="cm-meta">@RequestParam</span>(<span class="cm-string">"code"</span>) <span class="cm-variable-3">String</span> <span class="cm-variable">code</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">HttpSession</span> <span class="cm-variable">session</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">s</span> <span class="cm-operator">=</span> <span class="cm-variable">service</span>.<span class="cm-variable">validateAndRegister</span>(<span class="cm-variable">username</span>, <span class="cm-variable">password</span>, <span class="cm-variable">email</span>, <span class="cm-variable">code</span>, <span class="cm-variable">session</span>.<span class="cm-variable">getId</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">s</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) <span class="cm-keyword">return</span> <span class="cm-variable">RestBean</span>.<span class="cm-variable">success</span>(<span class="cm-string">"æ³¨å†ŒæˆåŠŸ"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">return</span> <span class="cm-variable">RestBean</span>.<span class="cm-variable">failure</span>(<span class="cm-number">400</span>, <span class="cm-variable">s</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 484px;"></div><div class="CodeMirror-gutters" style="display: none; height: 484px;"></div></div></div></pre><h4 id='5-å›¾åƒå¤„ç†ä¸æ€§èƒ½ä¼˜åŒ–'><span>5. å›¾åƒå¤„ç†ä¸æ€§èƒ½ä¼˜åŒ–</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>å›¾ç‰‡æ°´å°ç®—æ³•</span></strong><span>ï¼šåœ¨ </span><code>ImageUtil</code><span> ä¸­å®ç°å¤æ‚æ°´å°é€»è¾‘ï¼ˆå¦‚èƒŒæ™¯å›¾å±‚ã€æ¸å˜è‰²ã€æè¾¹ã€é˜´å½±ã€ä»¿å°„å˜æ¢ï¼‰ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—ä½“ï¼ˆé€šè¿‡ </span><code>Font.createFont</code><span> åŠ¨æ€åŠ è½½ TTF æ–‡ä»¶ï¼‰</span></li><li><strong><span>é›¶ä¸­é—´æ–‡ä»¶çš„ ZIP æµå¼ç”Ÿæˆ</span></strong><span>ï¼šåŸºäº </span><code>ZipArchiveOutputStream</code><span> å®ç°å†…å­˜åˆ° ZIP çš„ç›´å†™æµæ°´çº¿ï¼Œå›¾åƒå¤„ç†åç›´æ¥é€šè¿‡æµå¼ API å†™å…¥å‹ç¼©åŒ…ï¼Œé¿å…ç£ç›˜ä¸´æ—¶æ–‡ä»¶å‘¨è½¬ï¼Œé™ä½ IO å¼€é”€</span></li><li><strong><span>çº¿ç¨‹å®‰å…¨çš„ä¸´æ—¶æ–‡ä»¶ç®¡ç†</span></strong><span>ï¼šé€šè¿‡ </span><code>FileUtil.deleteDirectory</code><span> é€’å½’åˆ é™¤ä¸´æ—¶ç›®å½•ï¼Œç¡®ä¿èµ„æºåŠæ—¶é‡Šæ”¾</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">ImageUtil</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">BufferedImage</span> <span class="cm-variable">handleWatermark</span>(<span class="cm-variable">WatermarkParams</span> <span class="cm-variable">p</span>, <span class="cm-variable">Image</span> <span class="cm-variable">image</span>, <span class="cm-variable">Image</span> <span class="cm-variable">backgroundImage</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">watermark</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">IOException</span>, <span class="cm-variable">FontNotFoundException</span> { <span class="cm-comment">// å¤„ç†å›¾ç‰‡æ°´å°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">width</span> <span class="cm-operator">=</span> <span class="cm-variable">image</span>.<span class="cm-variable">getWidth</span>(<span class="cm-atom">null</span>), <span class="cm-variable">height</span> <span class="cm-operator">=</span> <span class="cm-variable">image</span>.<span class="cm-variable">getHeight</span>(<span class="cm-atom">null</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BufferedImage</span> <span class="cm-variable">bufferedImage</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">BufferedImage</span>(<span class="cm-variable">width</span>, <span class="cm-variable">height</span>, <span class="cm-variable">BufferedImage</span>.<span class="cm-variable">TYPE_INT_RGB</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Graphics2D</span> <span class="cm-variable">g</span> <span class="cm-operator">=</span> <span class="cm-variable">bufferedImage</span>.<span class="cm-variable">createGraphics</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">WHITE</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">fillRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-variable">width</span>, <span class="cm-variable">height</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">drawImage</span>(<span class="cm-variable">image</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-variable">width</span>, <span class="cm-variable">height</span>, <span class="cm-atom">null</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">backgroundImage</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) { <span class="cm-comment">// èƒŒæ™¯å›¾å±‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BufferedImage</span> <span class="cm-variable">styleImage</span> <span class="cm-operator">=</span> <span class="cm-variable">toBufferedImage</span>(<span class="cm-variable">backgroundImage</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">styleWidth</span> <span class="cm-operator">=</span> <span class="cm-variable">styleImage</span>.<span class="cm-variable">getWidth</span>(), <span class="cm-variable">styleHeight</span> <span class="cm-operator">=</span> <span class="cm-variable">styleImage</span>.<span class="cm-variable">getHeight</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">minWidth</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-variable">min</span>(<span class="cm-variable">width</span>, <span class="cm-variable">styleWidth</span>), <span class="cm-variable">minHeight</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-variable">min</span>(<span class="cm-variable">height</span>, <span class="cm-variable">styleHeight</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span>[] <span class="cm-variable">stylePixels</span> <span class="cm-operator">=</span> ((<span class="cm-variable">DataBufferInt</span>) <span class="cm-variable">styleImage</span>.<span class="cm-variable">getRaster</span>().<span class="cm-variable">getDataBuffer</span>()).<span class="cm-variable">getData</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span>[] <span class="cm-variable">destPixels</span> <span class="cm-operator">=</span> ((<span class="cm-variable">DataBufferInt</span>) <span class="cm-variable">bufferedImage</span>.<span class="cm-variable">getRaster</span>().<span class="cm-variable">getDataBuffer</span>()).<span class="cm-variable">getData</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">y</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">minHeight</span>; <span class="cm-variable">y</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">styleRowOffset</span> <span class="cm-operator">=</span> <span class="cm-variable">y</span> <span class="cm-operator">*</span> <span class="cm-variable">styleWidth</span>, <span class="cm-variable">destRowOffset</span> <span class="cm-operator">=</span> <span class="cm-variable">y</span> <span class="cm-operator">*</span> <span class="cm-variable">width</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">x</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">minWidth</span>; <span class="cm-variable">x</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">stylePixel</span> <span class="cm-operator">=</span> <span class="cm-variable">stylePixels</span>[<span class="cm-variable">styleRowOffset</span> <span class="cm-operator">+</span> <span class="cm-variable">x</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">styleAlpha</span> <span class="cm-operator">=</span> (<span class="cm-variable">stylePixel</span> <span class="cm-operator">&gt;&gt;&gt;</span> <span class="cm-number">24</span>) <span class="cm-operator">&amp;</span> <span class="cm-number">0xFF</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">styleAlpha</span> <span class="cm-operator">!=</span> <span class="cm-number">0</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">destPixel</span> <span class="cm-operator">=</span> <span class="cm-variable">destPixels</span>[<span class="cm-variable">destRowOffset</span> <span class="cm-operator">+</span> <span class="cm-variable">x</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">blendedPixel</span> <span class="cm-operator">=</span> <span class="cm-variable">getBlendedPixel</span>(<span class="cm-variable">destPixel</span>, <span class="cm-variable">stylePixel</span>, <span class="cm-variable">styleAlpha</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">destPixels</span>[<span class="cm-variable">destRowOffset</span> <span class="cm-operator">+</span> <span class="cm-variable">x</span>] <span class="cm-operator">=</span> <span class="cm-variable">blendedPixel</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setRenderingHint</span>(<span class="cm-variable">RenderingHints</span>.<span class="cm-variable">KEY_TEXT_ANTIALIASING</span>, <span class="cm-variable">RenderingHints</span>.<span class="cm-variable">VALUE_TEXT_ANTIALIAS_ON</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Font</span> <span class="cm-variable">font</span> <span class="cm-operator">=</span> <span class="cm-variable">getFont</span>(<span class="cm-variable">p</span>.<span class="cm-variable">getFontName</span>(), <span class="cm-variable">p</span>.<span class="cm-variable">getFontStyles</span>(), <span class="cm-variable">p</span>.<span class="cm-variable">getFontSize</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">font</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) <span class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">FontNotFoundException</span>(<span class="cm-string">"å­—ä½“ ["</span> <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getFontName</span>() <span class="cm-operator">+</span> <span class="cm-string">"] æœªå®‰è£…åœ¨ç³»ç»Ÿä¸­"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setFont</span>(<span class="cm-variable">font</span>); <span class="cm-comment">// å­—ä½“</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FontMetrics</span> <span class="cm-variable">fm</span> <span class="cm-operator">=</span> <span class="cm-variable">g</span>.<span class="cm-variable">getFontMetrics</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getRotation</span>() <span class="cm-operator">!=</span> <span class="cm-number">0</span> <span class="cm-operator">||</span> <span class="cm-variable">p</span>.<span class="cm-variable">getShearX</span>() <span class="cm-operator">!=</span> <span class="cm-number">0</span>) { <span class="cm-comment">// ä»¿å°„å˜æ¢</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">transform</span>(<span class="cm-variable">getAffineTransform</span>(<span class="cm-variable">p</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getShadowOpacity</span>() <span class="cm-operator">!=</span> <span class="cm-number">0</span>) { <span class="cm-comment">// æŠ•å½±</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Composite</span> <span class="cm-variable">originalComposite</span> <span class="cm-operator">=</span> <span class="cm-variable">g</span>.<span class="cm-variable">getComposite</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setComposite</span>(<span class="cm-variable">AlphaComposite</span>.<span class="cm-variable">getInstance</span>(<span class="cm-variable">AlphaComposite</span>.<span class="cm-variable">SRC_OVER</span>, <span class="cm-variable">p</span>.<span class="cm-variable">getShadowOpacity</span>()));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">p</span>.<span class="cm-variable">getShadowColor</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getX</span>() <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getShadowDx</span>(), <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getY</span>() <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getShadowDy</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">length</span>(); <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">char</span> <span class="cm-variable">c</span> <span class="cm-operator">=</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">charAt</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">drawString</span>(<span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">c</span>), <span class="cm-variable">x</span>, <span class="cm-variable">y</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">x</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharWidthInDx</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">charWidth</span>(<span class="cm-variable">c</span>) : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDx</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">y</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharHeightInDy</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">getAscent</span>() : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDy</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setComposite</span>(<span class="cm-variable">originalComposite</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getStrokeSize</span>() <span class="cm-operator">!=</span> <span class="cm-number">0</span>) { <span class="cm-comment">// æè¾¹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getStrokeGradient</span>() <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">GradientParams</span> <span class="cm-variable">gp</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getStrokeGradient</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setPaint</span>(<span class="cm-keyword">new</span> <span class="cm-variable">GradientPaint</span>(<span class="cm-variable">gp</span>.<span class="cm-variable">getStart</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getStartColor</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getEnd</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getEndColor</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getCyclic</span>()));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">p</span>.<span class="cm-variable">getStrokeColor</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getX</span>(), <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getY</span>(), <span class="cm-variable">gap</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getStrokeSize</span>(); <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">length</span>(); <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">char</span> <span class="cm-variable">c</span> <span class="cm-operator">=</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">charAt</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">j</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-variable">gap</span>; <span class="cm-variable">j</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">gap</span>; <span class="cm-variable">j</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">k</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-variable">gap</span>; <span class="cm-variable">k</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">gap</span>; <span class="cm-variable">k</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">drawString</span>(<span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">c</span>), <span class="cm-variable">x</span> <span class="cm-operator">+</span> <span class="cm-variable">j</span>, <span class="cm-variable">y</span> <span class="cm-operator">+</span> <span class="cm-variable">k</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">x</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharWidthInDx</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">charWidth</span>(<span class="cm-variable">c</span>) : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDx</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">y</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharHeightInDy</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">getAscent</span>() : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDy</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getFontGradient</span>() <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) { <span class="cm-comment">// æ¸å˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">GradientParams</span> <span class="cm-variable">gp</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getFontGradient</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setPaint</span>(<span class="cm-keyword">new</span> <span class="cm-variable">GradientPaint</span>(<span class="cm-variable">gp</span>.<span class="cm-variable">getStart</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getStartColor</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getEnd</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getEndColor</span>(), <span class="cm-variable">gp</span>.<span class="cm-variable">getCyclic</span>()));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">p</span>.<span class="cm-variable">getFontColor</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getX</span>(), <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span>.<span class="cm-variable">getY</span>(); <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">length</span>(); <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">char</span> <span class="cm-variable">c</span> <span class="cm-operator">=</span> <span class="cm-variable">watermark</span>.<span class="cm-variable">charAt</span>(<span class="cm-variable">i</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">drawString</span>(<span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">c</span>), <span class="cm-variable">x</span>, <span class="cm-variable">y</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">x</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharWidthInDx</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">charWidth</span>(<span class="cm-variable">c</span>) : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDx</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">y</span> <span class="cm-operator">+=</span> (<span class="cm-variable">p</span>.<span class="cm-variable">getIncludeCharHeightInDy</span>() <span class="cm-operator">?</span> <span class="cm-variable">fm</span>.<span class="cm-variable">getAscent</span>() : <span class="cm-number">0</span>) <span class="cm-operator">+</span> <span class="cm-variable">p</span>.<span class="cm-variable">getDy</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">g</span>.<span class="cm-variable">dispose</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">bufferedImage</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1981px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1981px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.42432px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-def">handleFileUpload</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>, <span class="cm-variable">InputStream</span> <span class="cm-variable">fileStream</span>, <span class="cm-variable">WatermarkParams</span> <span class="cm-variable">params</span>, <span class="cm-variable">Image</span> <span class="cm-variable">backgroundImage</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">IOException</span>, <span class="cm-variable">InterruptedException</span>, <span class="cm-variable">FontNotFoundException</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">File</span> <span class="cm-variable">input</span> <span class="cm-operator">=</span> <span class="cm-variable">Files</span>.<span class="cm-variable">createTempDirectory</span>(<span class="cm-string">"input"</span>).<span class="cm-variable">toFile</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">File</span> <span class="cm-variable">output</span> <span class="cm-operator">=</span> <span class="cm-variable">Files</span>.<span class="cm-variable">createTempFile</span>(<span class="cm-string">"output"</span>, <span class="cm-string">".zip"</span>).<span class="cm-variable">toFile</span>(); <span class="cm-comment">// åˆ›å»ºä¸´æ—¶ç›®å½•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FileUtil</span>.<span class="cm-variable">unzip</span>(<span class="cm-variable">fileStream</span>, <span class="cm-variable">input</span>); <span class="cm-comment">// è§£å‹ ZIP æ–‡ä»¶åˆ°ä¸´æ—¶ç›®å½•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> (<span class="cm-variable">FileOutputStream</span> <span class="cm-variable">fos</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileOutputStream</span>(<span class="cm-variable">output</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">ZipArchiveOutputStream</span> <span class="cm-variable">zipOut</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ZipArchiveOutputStream</span>(<span class="cm-variable">fos</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// ...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ImageUtil</span>.<span class="cm-variable">handleImage</span>(<span class="cm-variable">params</span>, <span class="cm-variable">ImageIO</span>.<span class="cm-variable">read</span>(<span class="cm-variable">f</span>), <span class="cm-variable">price</span>, <span class="cm-variable">backgroundImage</span>, <span class="cm-variable">zipOut</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">zipOut</span>.<span class="cm-variable">closeArchiveEntry</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">tableNoMatch</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">mid</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">successMatch</span>.<span class="cm-variable">add</span>(<span class="cm-variable">mid</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// ...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">progress</span> <span class="cm-operator">=</span> <span class="cm-operator">++</span><span class="cm-variable">validFilesCount</span> <span class="cm-operator">*</span> <span class="cm-number">100</span> <span class="cm-operator">/</span> (<span class="cm-variable">files</span>.<span class="cm-variable">length</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">progress</span> <span class="cm-operator">==</span> <span class="cm-number">100</span>) <span class="cm-variable">progress</span> <span class="cm-operator">=</span> <span class="cm-number">99</span>; <span class="cm-comment">// ç­‰å¾…æ”¶å°¾å·¥ä½œ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">P</span>.<span class="cm-variable">put</span>(<span class="cm-variable">username</span>, <span class="cm-variable">progress</span>); <span class="cm-comment">// å®æ—¶æ›´æ–°è¿›åº¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">InvalidFormatException</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">RuntimeException</span>(<span class="cm-variable">e</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">finally</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">info</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashMap</span><span class="cm-operator">&lt;&gt;</span>( <span class="cm-comment">// æ”¶é›†ä»»åŠ¡æ‰§è¡Œçš„é™„åŠ ä¿¡æ¯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span>.<span class="cm-variable">ofEntries</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span>.<span class="cm-variable">entry</span>(<span class="cm-string">"successMatch"</span>, <span class="cm-variable">filterEmptyStrings</span>(<span class="cm-variable">successMatch</span>)),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span>.<span class="cm-variable">entry</span>(<span class="cm-string">"tableNoMatch"</span>, <span class="cm-variable">filterEmptyStrings</span>(<span class="cm-variable">tableNoMatch</span>)),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span>.<span class="cm-variable">entry</span>(<span class="cm-string">"imageNoMatch"</span>, <span class="cm-variable">filterEmptyStrings</span>(<span class="cm-variable">imageNoMatch</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">INFO</span>.<span class="cm-variable">put</span>(<span class="cm-variable">username</span>, <span class="cm-variable">info</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ZIP</span>.<span class="cm-variable">put</span>(<span class="cm-variable">username</span>, <span class="cm-variable">output</span>); <span class="cm-comment">// å°†æœ€ç»ˆçš„ ZIP æ•°æ®å­˜å…¥ Map</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">P</span>.<span class="cm-variable">put</span>(<span class="cm-variable">username</span>, <span class="cm-number">100</span>); <span class="cm-comment">// æ ‡è®°ä»»åŠ¡å®Œæˆ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  } <span class="cm-keyword">finally</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">FileUtil</span>.<span class="cm-variable">deleteDirectory</span>(<span class="cm-variable">input</span>); <span class="cm-comment">// æ— è®ºæ˜¯å¦å¼‚å¸¸ï¼Œåˆ é™¤ä¸´æ—¶ç›®å½•é‡Šæ”¾èµ„æº</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 852px;"></div><div class="CodeMirror-gutters" style="display: none; height: 852px;"></div></div></div></pre><h4 id='6-å¯æ‰©å±•çš„è®¾è®¡æ¨¡å¼ä¸å·¥å…·ç±»'><span>6. å¯æ‰©å±•çš„è®¾è®¡æ¨¡å¼ä¸å·¥å…·ç±»</span></h4><p><strong><span>äº®ç‚¹æè¿°ï¼š</span></strong></p><ul><li><strong><span>Builder æ¨¡å¼</span></strong><span>ï¼šåœ¨ </span><code>WatermarkParams</code><span> å’Œ </span><code>WatermarkParamsDTO</code><span> ä¸­ä½¿ç”¨ </span><code>@Builder</code><span> æ³¨è§£ï¼Œç®€åŒ–å¤æ‚å¯¹è±¡çš„æ„é€ </span></li><li><strong><span>å‚æ•°åŒ–é…ç½®</span></strong><span>ï¼šé€šè¿‡ </span><code>PresetStyleParams</code><span> æä¾›é¢„è®¾æ°´å°å‚æ•°æ¨¡æ¿ï¼ˆå¦‚ </span><code>ImageUtil.P</code><span> ä¸­çš„ 5 ç§é¢„è®¾æ ·å¼ï¼‰ï¼Œé™ä½å®¢æˆ·ç«¯é…ç½®å¤æ‚åº¦</span></li><li><strong><span>å·¥å…·ç±»å¤ç”¨</span></strong><span>ï¼š</span><code>FileUtil</code><span> å°è£… ZIP è§£å‹å’Œç›®å½•åˆ é™¤ï¼Œ</span><code>CrawlerUtil</code><span> å®ç°ç½‘é¡µçˆ¬è™«çš„æ ¸å¿ƒé€»è¾‘ï¼Œæå‡ä»£ç å¤ç”¨ç‡</span></li></ul><p><strong><span>ä»£ç ç‰‡æ®µï¼š</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@With</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Builder</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Getter</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">WatermarkParams</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">int</span> <span class="cm-variable">N</span> <span class="cm-operator">=</span> <span class="cm-number">1200</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// ä½ç½®ï¼ˆæ°´å°å·¦ä¸‹è§’çš„èµ·å§‹åæ ‡ï¼‰</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">x</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">y</span> <span class="cm-operator">=</span> <span class="cm-variable">N</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// å­—ç¬¦åç§»</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">dx</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">dy</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Boolean</span> <span class="cm-variable">includeCharWidthInDx</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Boolean</span> <span class="cm-variable">includeCharHeightInDy</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// å­—ä½“</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">fontName</span> <span class="cm-operator">=</span> <span class="cm-string">"å¾®è½¯é›…é»‘"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">fontStyles</span> <span class="cm-operator">=</span> <span class="cm-variable">Font</span>.<span class="cm-variable">PLAIN</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">fontSize</span> <span class="cm-operator">=</span> <span class="cm-number">100</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Color</span> <span class="cm-variable">fontColor</span> <span class="cm-operator">=</span> <span class="cm-variable">Color</span>.<span class="cm-variable">BLACK</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// æè¾¹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">strokeSize</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Color</span> <span class="cm-variable">strokeColor</span> <span class="cm-operator">=</span> <span class="cm-variable">Color</span>.<span class="cm-variable">WHITE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// æŠ•å½±</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">shadowDx</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Integer</span> <span class="cm-variable">shadowDy</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Color</span> <span class="cm-variable">shadowColor</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Float</span> <span class="cm-variable">shadowOpacity</span> <span class="cm-operator">=</span> <span class="cm-number">0f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// æ¸å˜</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">GradientParams</span> <span class="cm-variable">fontGradient</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">GradientParams</span> <span class="cm-variable">strokeGradient</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// ä»¿å°„å˜æ¢</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Float</span> <span class="cm-variable">rotation</span> <span class="cm-operator">=</span> <span class="cm-number">0f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Float</span> <span class="cm-variable">shearX</span> <span class="cm-operator">=</span> <span class="cm-number">0f</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Boolean</span> <span class="cm-variable">priorityRotation</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@With</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Builder</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Getter</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">class</span> <span class="cm-def">GradientParams</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Point</span> <span class="cm-variable">start</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Point</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Color</span> <span class="cm-variable">startColor</span> <span class="cm-operator">=</span> <span class="cm-variable">Color</span>.<span class="cm-variable">BLUE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Point</span> <span class="cm-variable">end</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Point</span>(<span class="cm-variable">N</span>, <span class="cm-variable">N</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable">Color</span> <span class="cm-variable">endColor</span> <span class="cm-operator">=</span> <span class="cm-variable">Color</span>.<span class="cm-variable">RED</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-meta">@Builder</span>.<span class="cm-variable">Default</span> <span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">Boolean</span> <span class="cm-variable">cyclic</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1221px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1221px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">ImageUtil</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">List</span><span class="cm-operator">&lt;</span><span class="cm-variable">WatermarkParams</span><span class="cm-operator">&gt;</span> <span class="cm-variable">P</span> <span class="cm-operator">=</span> <span class="cm-variable">List</span>.<span class="cm-variable">of</span>(</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">x</span>(<span class="cm-number">90</span>).<span class="cm-variable">y</span>(<span class="cm-number">1165</span>).<span class="cm-variable">dx</span>(<span class="cm-operator">-</span><span class="cm-number">10</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontName</span>(<span class="cm-string">"Source Han Sans CN"</span>).<span class="cm-variable">fontSize</span>(<span class="cm-number">130</span>).<span class="cm-variable">fontColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">254</span>, <span class="cm-number">249</span>, <span class="cm-number">233</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">x</span>(<span class="cm-number">90</span>).<span class="cm-variable">y</span>(<span class="cm-number">1165</span>).<span class="cm-variable">dx</span>(<span class="cm-operator">-</span><span class="cm-number">10</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontName</span>(<span class="cm-string">"Source Han Sans CN"</span>).<span class="cm-variable">fontSize</span>(<span class="cm-number">130</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontGradient</span>(<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">GradientParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">startColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">254</span>, <span class="cm-number">249</span>, <span class="cm-number">233</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">end</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Point</span>(<span class="cm-number">80</span>, <span class="cm-number">80</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">endColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">220</span>, <span class="cm-number">176</span>, <span class="cm-number">119</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>())</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">x</span>(<span class="cm-number">333</span>).<span class="cm-variable">y</span>(<span class="cm-number">510</span>).<span class="cm-variable">dy</span>(<span class="cm-operator">-</span><span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontStyles</span>(<span class="cm-variable">Font</span>.<span class="cm-variable">BOLD</span> <span class="cm-operator">|</span> <span class="cm-variable">Font</span>.<span class="cm-variable">ITALIC</span>).<span class="cm-variable">fontSize</span>(<span class="cm-number">55</span>).<span class="cm-variable">fontColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">WHITE</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">strokeSize</span>(<span class="cm-number">5</span>).<span class="cm-variable">strokeColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">250</span>, <span class="cm-number">65</span>, <span class="cm-number">10</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">x</span>(<span class="cm-number">70</span>).<span class="cm-variable">y</span>(<span class="cm-number">705</span>).<span class="cm-variable">dx</span>(<span class="cm-operator">-</span><span class="cm-number">8</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontName</span>(<span class="cm-string">"DIN"</span>).<span class="cm-variable">fontStyles</span>(<span class="cm-variable">Font</span>.<span class="cm-variable">BOLD</span>).<span class="cm-variable">fontColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">227</span>, <span class="cm-number">34</span>, <span class="cm-number">17</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>(),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">WatermarkParams</span>.<span class="cm-variable">builder</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">x</span>(<span class="cm-number">840</span>).<span class="cm-variable">y</span>(<span class="cm-number">1175</span>).<span class="cm-variable">dx</span>(<span class="cm-operator">-</span><span class="cm-number">3</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">fontName</span>(<span class="cm-string">"HarmonyOS Sans"</span>).<span class="cm-variable">fontStyles</span>(<span class="cm-variable">Font</span>.<span class="cm-variable">BOLD</span> <span class="cm-operator">|</span> <span class="cm-variable">Font</span>.<span class="cm-variable">ITALIC</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">fontSize</span>(<span class="cm-number">140</span>).<span class="cm-variable">fontColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">0xfdf04a</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">strokeSize</span>(<span class="cm-number">6</span>).<span class="cm-variable">strokeColor</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Color</span>(<span class="cm-number">0x065223</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-variable">build</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  );</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 760px;"></div><div class="CodeMirror-gutters" style="display: none; height: 760px;"></div></div></div></pre><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">FileUtil</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">TABLE</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashSet</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-variable">List</span>.<span class="cm-variable">of</span>( <span class="cm-comment">// æ”¯æŒçš„è¡¨æ ¼å½¢å¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"xls"</span>, <span class="cm-string">"xlsx"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"XLS"</span>, <span class="cm-string">"XLSX"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">IMAGE</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashSet</span><span class="cm-operator">&lt;&gt;</span>(<span class="cm-variable">List</span>.<span class="cm-variable">of</span>( <span class="cm-comment">// æ”¯æŒçš„å›¾ç‰‡å½¢å¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"jpg"</span>, <span class="cm-string">"jpeg"</span>, <span class="cm-string">"png"</span>, <span class="cm-string">"webp"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">"JPG"</span>, <span class="cm-string">"JPEG"</span>, <span class="cm-string">"PNG"</span>, <span class="cm-string">"WEBG"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable">Pattern</span> <span class="cm-variable">ERROR_PATTERN</span> <span class="cm-operator">=</span> <span class="cm-variable">Pattern</span>.<span class="cm-variable">compile</span>(<span class="cm-string">"[\\\\/:*?\"&lt;&gt;|]"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span class="cm-variable-3">String</span> <span class="cm-variable">ERROR_PATH</span> <span class="cm-operator">=</span> <span class="cm-string">"ERROR-"</span> <span class="cm-operator">+</span> <span class="cm-variable">UUID</span>.<span class="cm-variable">randomUUID</span>().<span class="cm-variable">toString</span>().<span class="cm-variable">substring</span>(<span class="cm-number">0</span>, <span class="cm-number">8</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span class="cm-variable">unzip</span>(<span class="cm-variable">InputStream</span> <span class="cm-variable">fileStream</span>, <span class="cm-variable">File</span> <span class="cm-variable">destDir</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">IOException</span> { <span class="cm-comment">// è§£å‹ ZIP æ–‡ä»¶åˆ°ç›®æ ‡ç›®å½•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> (<span class="cm-variable">ZipArchiveInputStream</span> <span class="cm-variable">zipIn</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ZipArchiveInputStream</span>(<span class="cm-variable">fileStream</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ZipArchiveEntry</span> <span class="cm-variable">entry</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">while</span> ((<span class="cm-variable">entry</span> <span class="cm-operator">=</span> <span class="cm-variable">zipIn</span>.<span class="cm-variable">getNextZipEntry</span>()) <span class="cm-operator">!=</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">File</span> <span class="cm-variable">entryDestination</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">File</span>(<span class="cm-variable">destDir</span>, <span class="cm-variable">entry</span>.<span class="cm-variable">getName</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">entry</span>.<span class="cm-variable">isDirectory</span>()) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">entryDestination</span>.<span class="cm-variable">mkdirs</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Files</span>.<span class="cm-variable">createDirectories</span>(<span class="cm-variable">entryDestination</span>.<span class="cm-variable">getParentFile</span>().<span class="cm-variable">toPath</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> (<span class="cm-variable">FileOutputStream</span> <span class="cm-variable">fos</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileOutputStream</span>(<span class="cm-variable">entryDestination</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">IOUtils</span>.<span class="cm-variable">copy</span>(<span class="cm-variable">zipIn</span>, <span class="cm-variable">fos</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span class="cm-variable">deleteDirectory</span>(<span class="cm-variable">File</span> <span class="cm-variable">dir</span>) { <span class="cm-comment">// é€’å½’åˆ é™¤ç›®å½•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">dir</span>.<span class="cm-variable">exists</span>()) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable">File</span> <span class="cm-variable">file</span> : <span class="cm-variable">Objects</span>.<span class="cm-variable">requireNonNull</span>(<span class="cm-variable">dir</span>.<span class="cm-variable">listFiles</span>())) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">file</span>.<span class="cm-variable">isDirectory</span>()) <span class="cm-variable">deleteDirectory</span>(<span class="cm-variable">file</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">file</span>.<span class="cm-variable">delete</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">dir</span>.<span class="cm-variable">delete</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">boolean</span> <span class="cm-variable">checkFileName</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">name</span>) { <span class="cm-comment">// åˆ¤æ–­æ–‡ä»¶ååˆæ³•æ€§</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ERROR_PATTERN</span>.<span class="cm-variable">matcher</span>(<span class="cm-variable">name</span>).<span class="cm-variable">find</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1036px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1036px;"></div></div></div></pre><h3 id='å‰ç«¯-2'><span>å‰ç«¯</span></h3><h4 id='1-æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–è®¾è®¡'><span>1. æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–è®¾è®¡</span></h4><ul><li><span>ä½¿ç”¨ Vue3 å®ç°é€»è¾‘å¤ç”¨ï¼Œå¦‚</span><code>ForgetPage.vue</code><span>ã€</span><code>RegisterPage.vue</code><span>ä¸­å¤ç”¨è¡¨å•éªŒè¯é€»è¾‘</span></li><li><span>å°è£…é€šç”¨ç»„ä»¶ï¼ˆå¦‚</span><code>Title.vue</code><span>ï¼‰ï¼Œé€šè¿‡</span><code>inject</code><span>ä¾èµ–æ³¨å…¥å®ç°åŠ¨æ€æ ‡é¢˜é…ç½®ï¼Œæå‡ç»„ä»¶å¤ç”¨æ€§</span></li><li><span>è‡ªå®šä¹‰æŒ‡ä»¤</span><code>LazyLoad.js</code><span>å®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼Œä¼˜åŒ–æ€§èƒ½</span></li></ul><h4 id='2-å“åº”å¼è¡¨å•ä¸å¤æ‚äº¤äº’'><span>2. å“åº”å¼è¡¨å•ä¸å¤æ‚äº¤äº’</span></h4><ul><li><span>å¤šæ­¥éª¤è¡¨å•åŠ¨æ€åˆ‡æ¢ï¼ˆå¦‚</span><code>ForgetPage.vue</code><span>çš„åˆ†æ­¥å¯†ç é‡ç½®ï¼‰ï¼Œç»“åˆ Element Plus çš„</span><code>ElSteps</code><span>å’Œ</span><code>transition</code><span>è¿‡æ¸¡åŠ¨ç”»</span></li><li><span>è¡¨å•éªŒè¯è§„åˆ™æ·±åº¦å®šåˆ¶ï¼ˆå¦‚ç”¨æˆ·åä»…å…è®¸ä¸­æ–‡/è‹±æ–‡ã€å¯†ç ä¸€è‡´æ€§æ ¡éªŒï¼‰ï¼Œæ”¯æŒå¼‚æ­¥éªŒè¯ï¼ˆå¦‚é‚®ä»¶éªŒè¯ç è¯·æ±‚ï¼‰</span></li><li><span>å®æ—¶å‚æ•°é…ç½®é¢æ¿ï¼ˆ</span><code>BatchImageWatermarker.vue</code><span>ï¼‰ï¼Œé€šè¿‡</span><code>watch</code><span>æ·±åº¦ç›‘å¬å‚æ•°å˜åŒ–å¹¶åŠ¨æ€ç”Ÿæˆé¢„è§ˆå›¾</span></li></ul><h4 id='3-è·¯ç”±ä¸æƒé™æ§åˆ¶'><span>3. è·¯ç”±ä¸æƒé™æ§åˆ¶</span></h4><ul><li><span>è·¯ç”±å®ˆå«ï¼ˆ</span><code>router.beforeEach</code><span>ï¼‰å®ç°å…¨å±€æƒé™æ§åˆ¶ï¼Œæœªç™»å½•ç”¨æˆ·å¼ºåˆ¶è·³è½¬è‡³ç™»å½•é¡µï¼Œå·²ç™»å½•ç”¨æˆ·ç¦æ­¢è®¿é—®æ¬¢è¿é¡µ</span></li><li><span>åŠ¨æ€è·¯ç”±é…ç½®ï¼ˆåµŒå¥—è·¯ç”±ã€å­è·¯ç”±æ‡’åŠ è½½ï¼‰ï¼Œä¼˜åŒ–é¦–å±åŠ è½½é€Ÿåº¦</span></li><li><span>è·¯ç”±å…ƒä¿¡æ¯ï¼ˆ</span><code>meta</code><span>ï¼‰åŠ¨æ€ä¿®æ”¹é¡µé¢æ ‡é¢˜å’Œå›¾æ ‡</span></li></ul><h4 id='4-çŠ¶æ€ç®¡ç†ä¸æŒä¹…åŒ–'><span>4. çŠ¶æ€ç®¡ç†ä¸æŒä¹…åŒ–</span></h4><ul><li><span>ä½¿ç”¨ Pinia ç®¡ç†å…¨å±€çŠ¶æ€ï¼ˆå¦‚ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼‰ï¼Œå¹¶é€šè¿‡</span><code>setupPersistedStore</code><span>æ’ä»¶å®ç°çŠ¶æ€æŒä¹…åŒ–ï¼Œé¿å…åˆ·æ–°ä¸¢å¤±æ•°æ®</span></li><li><span>æ¨¡å—åŒ– Store è®¾è®¡ï¼ˆ</span><code>stores/index.js</code><span>ï¼‰ï¼Œåˆ†ç¦»è®¤è¯çŠ¶æ€ä¸å…¶ä»–ä¸šåŠ¡é€»è¾‘</span></li></ul><h4 id='5-ç½‘ç»œè¯·æ±‚å°è£…ä¸é”™è¯¯å¤„ç†'><span>5. ç½‘ç»œè¯·æ±‚å°è£…ä¸é”™è¯¯å¤„ç†</span></h4><ul><li><span>ç»Ÿä¸€å°è£…ç½‘ç»œè¯·æ±‚ï¼ˆ</span><code>net/index.js</code><span>ï¼‰ï¼Œæ”¯æŒ</span><code>_GET</code><span>ã€</span><code>_POST</code><span>ç­‰æ–¹æ³•çš„é”™è¯¯æ‹¦æˆªä¸æ¶ˆæ¯æç¤º</span></li><li><span>å¼‚æ­¥è¯·æ±‚ä¸ UI è”åŠ¨ï¼ˆå¦‚</span><code>coldTime</code><span>å€’è®¡æ—¶æ§åˆ¶éªŒè¯ç æŒ‰é’®ç¦ç”¨çŠ¶æ€ï¼‰</span></li></ul><h4 id='6-å¤æ‚æ–‡ä»¶å¤„ç†ä¸å¯è§†åŒ–'><span>6. å¤æ‚æ–‡ä»¶å¤„ç†ä¸å¯è§†åŒ–</span></h4><ul><li><span>æ‰¹é‡ä¸Šä¼  ZIP æ–‡ä»¶å¹¶è§£æï¼ˆ</span><code>BatchImageWatermarker.vue</code><span>ï¼‰ï¼Œåˆ†å—å±•ç¤ºå¤„ç†ç»“æœï¼ˆæˆåŠŸåŒ¹é…ã€è¡¨/å›¾åŒ¹é…å¤±è´¥ï¼‰</span></li><li><span>å›¾ç‰‡é¢„è§ˆåŠŸèƒ½æ”¯æŒè‡ªå®šä¹‰èƒŒæ™¯ä¸Šä¼ ï¼Œç»“åˆåç«¯æ¥å£ç”Ÿæˆæ°´å°æ•ˆæœå›¾</span></li><li><span>è¿›åº¦æ¡ï¼ˆ</span><code>ElProgress</code><span>ï¼‰å®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦</span></li></ul><h4 id='7-uiux-ç»†èŠ‚ä¼˜åŒ–'><span>7. UI/UX ç»†èŠ‚ä¼˜åŒ–</span></h4><ul><li><span>ä½¿ç”¨ Element Plus è¿‡æ¸¡åŠ¨ç”»ï¼ˆå¦‚</span><code>ElFadeInLinear</code><span>ï¼‰æå‡é¡µé¢åˆ‡æ¢æµç•…åº¦</span></li><li><span>ç»Ÿä¸€çš„æ¶ˆæ¯æç¤ºï¼ˆ</span><code>ElMessage</code><span>ï¼‰ä¸å¼¹çª—äº¤äº’ï¼ˆ</span><code>ElMessageBox</code><span>ï¼‰</span></li><li><span>ç§»åŠ¨ç«¯é€‚é…ï¼ˆå¦‚</span><code>margin</code><span>ã€</span><code>flex</code><span>å¸ƒå±€ï¼‰å’Œè¡¨å•è¾“å…¥é™åˆ¶ï¼ˆå¦‚</span><code>maxlength</code><span>ï¼‰</span></li></ul><p>&nbsp;</p><h2 id='ğŸ“Š-ä»£ç é‡ç»Ÿè®¡'><span>ğŸ“Š ä»£ç é‡ç»Ÿè®¡</span></h2><p><span>æ•°æ®æˆªæ­¢è‡³ </span><strong><span>v1.5.4</span></strong></p><p><span>ï¼ˆå•ä½ï¼šè¡Œï¼Œä¸åŒ…å«æ–‡æ¡£ä»£ç ï¼‰</span></p><figure><table><thead><tr><th style='text-align:center;' ><span>é¡¹ç›®å</span></th><th style='text-align:center;' ><span>åç«¯</span></th><th style='text-align:center;' ><span>å‰ç«¯</span></th><th style='text-align:center;' ><span>æ€»å’Œ</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><span>çŒœæ•°å­—æ¸¸æˆ</span></td><td style='text-align:center;' ><span>153</span></td><td style='text-align:center;' ><span>337</span></td><td style='text-align:center;' ><span>490</span></td></tr><tr><td style='text-align:center;' ><span>è§’è‰²è‡ªæˆªå›¾</span></td><td style='text-align:center;' ><span>163</span></td><td style='text-align:center;' ><span>446</span></td><td style='text-align:center;' ><span>609</span></td></tr><tr><td style='text-align:center;' ><span>è¿è¿çœ‹æ¸¸æˆ</span></td><td style='text-align:center;' ><span>169</span></td><td style='text-align:center;' ><span>1188</span></td><td style='text-align:center;' ><span>1357</span></td></tr><tr><td style='text-align:center;' ><span>ç®€å•çˆ¬è™«è„šæœ¬</span></td><td style='text-align:center;' ><span>250</span></td><td style='text-align:center;' ><span>217</span></td><td style='text-align:center;' ><span>467</span></td></tr><tr><td style='text-align:center;' ><span>æ‰¹é‡å›¾ç‰‡æ°´å°å¤„ç†</span></td><td style='text-align:center;' ><span>1179</span></td><td style='text-align:center;' ><span>1326</span></td><td style='text-align:center;' ><span>2505</span></td></tr><tr><td style='text-align:center;' ><span>ï¼ˆå…¶ä»–ä»£ç ï¼‰</span></td><td style='text-align:center;' ><span>848</span></td><td style='text-align:center;' ><span>1388</span></td><td style='text-align:center;' ><span>2233</span></td></tr><tr><td style='text-align:center;' ><strong><span>æ€»å’Œ</span></strong></td><td style='text-align:center;' ><span>2762</span></td><td style='text-align:center;' ><span>4899</span></td><td style='text-align:center;' ><span>7661</span></td></tr></tbody></table></figure><p>&nbsp;</p><h2 id='ğŸ“‚-é¡¹ç›®ç»“æ„'><span>ğŸ“‚ é¡¹ç›®ç»“æ„</span></h2><h3 id='åç«¯-3'><span>åç«¯</span></h3><p><span>æœ¬åœ°æœåŠ¡æ‹“æ‰‘å›¾ï¼š</span></p><p><img src="http://8.138.214.176:5174/é¡¹ç›®å›¾åºŠ/æ˜Ÿå¼€ç¥ˆçµç™¾å®ç®±%20é¡¹ç›®æ–‡æ¡£-31.png?v=1" referrerpolicy="no-referrer" alt="æ˜Ÿå¼€ç¥ˆçµç™¾å®ç®± é¡¹ç›®æ–‡æ¡£-31.png"></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">backend</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ src</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ main</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ example</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ config</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ SecurityConfiguration.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ WebConfiguration.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ controller</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ AuthorizeController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ BatchImageWatermarkerController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ CharacterMapController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ CrawlerController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ GuessNumberController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ IndexController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ LinkGameController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ UserController.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ convert</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ WatermarkParamsConvert.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ dto</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ ImageRequestDTO.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ WatermarkDataDTO.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ WatermarkParamsDTO.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ entity</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ common</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Account.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ AccountUser.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ RestBean.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ other</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ GuessNumber.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ ImageInfo.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ WatermarkData.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ WatermarkParams.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ exception</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ FontNotFoundException.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ GlobalExceptionHandler.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ interceptor</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ AuthorizeInterceptor.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ mapper</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ LinkMapper.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ UserMapper.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ WatermarkMapper.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ service</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ api</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ AuthorizeService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ BatchImageWatermarkerService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ CharacterMapService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ CrawlerService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ GuessNumberService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ LinkGameService.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ impl</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ AuthorizeServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ BatchImageWatermarkerServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ CharacterMapServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ CrawlerServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ GuessNumberServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ LinkGameServiceImpl.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”œâ”€â”€ util</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ CrawlerUtil.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ FileUtil.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ ImageUtil.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â””â”€â”€ BackendApplication.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ resources</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ application.yml</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â””â”€â”€ test</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â””â”€â”€ com</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â””â”€â”€ example</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; â””â”€â”€ XkqlApplicationTest.java</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ static</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ å›¾ç‰‡</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é»˜è®¤èƒŒæ™¯å›¾.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ è¡¨æ ¼</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é»˜è®¤ç»Ÿè®¡æŠ¥è¡¨.xlsx</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â””â”€â”€ å­—ä½“</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ Source Han Sans CN.otf</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ é»‘ä½“.ttf</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ æ¥·ä½“.ttf</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ å¾®è½¯é›…é»‘.ttf</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â””â”€â”€ pom.xml</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1866px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1866px;"></div></div></div></pre><h3 id='å‰ç«¯-3'><span>å‰ç«¯</span></h3><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">frontend</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ public</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ icon</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ BatchImageWatermarker.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ CharacterMap.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Crawler.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Document.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ GuessNumber.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ LinkGame.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ Test.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ æ‰¹é‡å›¾ç‰‡æ°´å°å¤„ç†</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ çº¯ç™½èƒŒæ™¯å›¾.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ è‡ªå®šä¹‰æ ·å¼ 0.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é¢„è®¾æ ·å¼ 1.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é¢„è®¾æ ·å¼ 5.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ è§’è‰²å›¾</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»å¿ƒçˆ±</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»å¿ƒçˆ± 001.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ ä¿ç™»å¿ƒçˆ± 571.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»æ‘©å¡</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»æ‘©å¡ 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ ä¿ç™»æ‘©å¡ 75.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¡è¥¿è‰äºš</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¡è¥¿è‰äºš 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ å¡è¥¿è‰äºš 48.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¤©å¤©åº§ç†ä¸–</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¤©å¤©åº§ç†ä¸– 001.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ å¤©å¤©åº§ç†ä¸– 256.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¥ˆæ´¥æƒ </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¥ˆæ´¥æƒ  01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ å¥ˆæ´¥æƒ  74.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡ä½ç¾ç‘å¸Œ</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡ä½ç¾ç‘å¸Œ 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ å®‡ä½ç¾ç‘å¸Œ 47.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡æ²»æ¾åƒå¤œ</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡æ²»æ¾åƒå¤œ 001.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ å®‡æ²»æ¾åƒå¤œ 195.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ææ¯”</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ææ¯” 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ ææ¯” 46.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡æ²³éº»è€¶</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡æ²³éº»è€¶ 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ æ¡æ²³éº»è€¶ 96.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡é—´çº±è·¯</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡é—´çº±è·¯ 001.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ æ¡é—´çº±è·¯ 275.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ è±†é¦…</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ è±†é¦… 1.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ è±†é¦… 5.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é‡é›</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é‡é› 1.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é‡é› 9.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é’å±±è“å±±</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é’å±±è“å±± 01.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é’å±±è“å±± 46.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é¦™é£æ™ºä¹ƒ</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ é¦™é£æ™ºä¹ƒ 001.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ é¦™é£æ™ºä¹ƒ 430.jpg</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ è§’è‰²å›¾å‹ç¼©</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»å¿ƒçˆ±.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ä¿ç™»æ‘©å¡.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¡è¥¿è‰äºš.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¤©å¤©åº§ç†ä¸–.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å¥ˆæ´¥æƒ .zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡ä½ç¾ç‘å¸Œ.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ å®‡æ²»æ¾åƒå¤œ.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ææ¯”.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡æ²³éº»è€¶.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ æ¡é—´çº±è·¯.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ è±†é¦….zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é‡é›.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ é’å±±è“å±±.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ é¦™é£æ™ºä¹ƒ.zip</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ favicon.png</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ äº§å“ä½¿ç”¨æ‰‹å†Œ.html</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ æŠ€æœ¯å¼€å‘æ–‡æ¡£.html</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â””â”€â”€ é¡¹ç›®æ–‡æ¡£.html</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ src</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ components</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ layout</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ Title.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ welcome</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ ForgetPage.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ LoginPage.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ RegisterPage.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ directives</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ lazyLoad.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ net</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ index.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ router</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ index.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ stores</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ index.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ views</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ batchImageWatermarker</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ BatchImageWatermarker.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ characterMap</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ CharacterMap.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ CharacterMapSub.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ common</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Document.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Index.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ Test.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ Welcome.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ crawler</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ Crawler.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ guessNumber</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ GuessNumber.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ HistoricalRecord.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ Playing.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ linkGame</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ HistoricalRecord.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ Library.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ LinkGame.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ Playing.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â”œâ”€â”€ App.vue</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”‚ &nbsp; â””â”€â”€ main.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ README.md</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ frontend.iml</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ index.html</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ jsconfig.json</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ package-lock.json</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ package.json</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â”œâ”€â”€ vite.config.js</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">â””â”€â”€ vite.config.js.timestamp-1724388971674-1408e123a3c85.mjs</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 3224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 3224px;"></div></div></div></pre><p>&nbsp;</p><h2 id='ğŸ¤-è´¡çŒ®æŒ‡å—'><span>ğŸ¤ è´¡çŒ®æŒ‡å—</span></h2><p><em><span>ğŸš§ æ–‡æ¡£å®Œå–„ä¸­ï¼ˆé¢„è®¡ä¸‹ä¸ªä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼‰</span></em></p><p><span>å¦‚æœ‰ç´§æ€¥è´¡çŒ®éœ€æ±‚ï¼Œè¯·é€šè¿‡ </span><a href='https://github.com/KokoaChino/xkql/issues'><span>GitHub Issues</span></a><span> æˆ– ğŸ“§ </span><a href='mailto:2178740980@qq.com' target='_blank' class='url'>2178740980@qq.com</a><span> è”ç³»ç»´æŠ¤è€…</span></p><p>&nbsp;</p><h2 id='ğŸ“œ-è®¸å¯è¯'><span>ğŸ“œ è®¸å¯è¯</span></h2><p><span>æœ¬é¡¹ç›®é‡‡ç”¨ </span><strong><a href='LICENSE'><span>MIT License</span></a></strong><span> å¼€æºåè®®ï¼Œæ ¸å¿ƒæ¡æ¬¾å¦‚ä¸‹ï¼š</span></p><p><span>âœ… </span><strong><span>å…è®¸çš„æ“ä½œ</span></strong><span>ï¼š</span></p><ul><li><span>è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹ã€åˆå¹¶ã€å‘å¸ƒã€åˆ†å‘æœ¬é¡¹ç›®</span></li><li><span>å¯ç”¨äºå•†ä¸šç”¨é€”</span></li><li><span>å…è®¸é—­æºäºŒæ¬¡å¼€å‘</span></li></ul><p><span>âš ï¸ </span><strong><span>å”¯ä¸€ä¹‰åŠ¡</span></strong><span>ï¼š</span></p><ul><li><strong><span>å¿…é¡»ä¿ç•™åŸå§‹ç‰ˆæƒå£°æ˜</span></strong><span>ï¼ˆåŒ…å«åœ¨é¡¹ç›®æ‰€æœ‰å‰¯æœ¬ä¸­ï¼‰</span></li></ul><p><span>ğŸ›¡ï¸ </span><strong><span>å…è´£å£°æ˜</span></strong><span>ï¼š</span></p><blockquote><p><span>æœ¬é¡¹ç›®æŒ‰&quot;åŸæ ·&quot;æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºé€‚é”€æ€§å’Œç‰¹å®šç”¨é€”é€‚ç”¨æ€§</span></p><p><span>ä½œè€…/ç‰ˆæƒæŒæœ‰è€…å¯¹ä»»ä½•ç´¢èµ”ã€æŸå®³æˆ–å…¶ä»–è´£ä»»ä¸æ‰¿æ‹…è´£ä»»</span></p></blockquote><p><span>å®Œæ•´æ³•å¾‹æ–‡æœ¬è¯·æŸ¥çœ‹ </span><a href='LICENSE'><span>LICENSE</span></a><span> æ–‡ä»¶</span></p><p>&nbsp;</p><h2 id='â“-å¸¸è§é—®é¢˜'><span>â“ å¸¸è§é—®é¢˜</span></h2><h3 id='æœ¬åœ°éƒ¨ç½²'><span>æœ¬åœ°éƒ¨ç½²</span></h3><ol start='' ><li><p><strong><span>å­—ä½“ç¼ºå¤±æŠ¥é”™å¤„ç†</span></strong></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="diff"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="diff"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-positive">+ ç³»ç»Ÿé¢„è®¾æ ·å¼æŠ¥é”™ï¼š</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  1. ä¸‹è½½å¯¹åº”å­—ä½“æ–‡ä»¶</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  2. å®‰è£…è‡³ç³»ç»Ÿå­—ä½“ç›®å½•ï¼ˆWindows: C:\Windows\Fontsï¼‰</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-positive">+ è‡ªå®šä¹‰æ ·å¼æŠ¥é”™ï¼š</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  è¯·æ ¹æ®æç¤ºä¸Šä¼ å­—ä½“æ–‡ä»¶</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 138px;"></div><div class="CodeMirror-gutters" style="display: none; height: 138px;"></div></div></div></pre></li><li><p><strong><span>è§’è‰²è‡ªæˆªå›¾æ‰¹é‡ä¸‹è½½ä¸å…¨</span></strong><span> </span></p><p><span>â–¸ </span><em><span>ç°è±¡è¯´æ˜</span></em><span>ï¼šå›  GitHub ä»“åº“é™åˆ¶å¤§æ–‡ä»¶ä¸Šä¼ ï¼Œå‹ç¼©åŒ…ä¸­ä»…åŒ…å«é˜‰å‰²ç‰ˆè§’è‰²å›¾é›†</span></p><p><span>â–¸ </span><em><span>å®Œæ•´ç‰ˆè·å–æ–¹æ¡ˆ</span></em><span>ï¼š  </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1. æ‰“å¼€æœ¬åœ°é¡¹ç›®ç›®å½• `xkql\frontend\public\è§’è‰²å›¾` &nbsp;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">2. **æ‰‹åŠ¨å…¨é€‰æ‰€æœ‰æ–‡ä»¶å¤¹** â†’ å³é”®ç”Ÿæˆ .zip å‹ç¼©åŒ… &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3. å°†æ–°å‹ç¼©åŒ…**è¦†ç›–æ›¿æ¢**åˆ° `è§’è‰²å›¾å‹ç¼©` ç›®å½•ä¸­å³å¯ &nbsp;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p><span> â–¸ </span><em><span>æ³¨æ„äº‹é¡¹</span></em><span>ï¼š </span>
<span> âš ï¸ å®Œæ•´å›¾é›†çº¦éœ€ 700M å­˜å‚¨ç©ºé—´ï¼Œæ“ä½œå‰è¯·ç¡®ä¿ç£ç›˜å®¹é‡å……è¶³ </span>
<span> âš ï¸ è¦†ç›–åéœ€é‡å¯å‰ç«¯æœåŠ¡ä½¿å˜æ›´ç”Ÿæ•ˆ</span></p><p><span> â–¸ </span><em><span>ä¼˜åŒ–è®¡åˆ’</span></em><span>ï¼š </span>
<span>    é•¿æœŸè®¡åˆ’è¿ç§»è‡³ Git LFS å­˜å‚¨ (éœ€ä¼ä¸šç‰ˆ GitHub)  </span></p></li></ol><p><span>å¦‚æœ‰ç´§æ€¥é—®é¢˜åæ˜ ï¼Œè¯·é€šè¿‡ </span><a href='https://github.com/KokoaChino/xkql/issues'><span>GitHub Issues</span></a><span> æˆ– ğŸ“§ </span><a href='mailto:2178740980@qq.com' target='_blank' class='url'>2178740980@qq.com</a><span> è”ç³»ç»´æŠ¤è€…</span></p></div></div>
</body>
</html>